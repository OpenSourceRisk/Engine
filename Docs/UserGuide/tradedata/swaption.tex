\subsubsection{Swaption}

The \lstinline!SwaptionData!  node is the trade data container for the \emph{Swaption} trade type. The \lstinline!SwaptionData!
node has one and exactly one \lstinline!OptionData! trade component sub-node, and at least one \lstinline!LegData! trade
component sub-node.  These trade components are outlined in section \ref{ss:option_data} and section
\ref{ss:leg_data}.\\
\vspace{5mm}
Supported swaption exercise styles are European and Bermudan.  Swaptions of both exercise styles must have two legs, with
each leg represented by a \lstinline!LegData! sub-node.  Cross currency swaptions are not supported for either exercise style, i.e. the Currency element must
have the same value for all \lstinline!LegData! sub-nodes of a swaption. There must be at least one full coupon period after the exercise date for European 
Swaptions, and after the last exercise date for Bermudan Swaptions. See Table \ref{tab:swaption_requirements} for further details on requirements for
 swaptions.\\
\vspace{5mm}
The structure of an example \lstinline!SwaptionData!  node of a European swaption is shown in Listing
\ref{lst:swaption_data}.

\begin{listing}[H]
%\hrule\medskip
\begin{minted}[fontsize=\footnotesize]{xml}
<SwaptionData>
    <OptionData>
        <Style>European</Style>
        ...
    </OptionData>
    <LegData>
        <Currency>GBP</Currency>
        ...
    </LegData>
    <LegData>
        <Currency>GBP</Currency>
        ...
    </LegData>
</SwaptionData>
\end{minted}
\caption{Swaption data}
\label{lst:swaption_data}
\end{listing}

\begin{table}[H]
\centering
\begin{tabu} to 0.9\linewidth {| X[-1.5,l,m] | X[-5,l,m] |}
    \hline
        & \bfseries{A  Swaption requires:} \\  \hline
    \lstinline!OptionData! & One \lstinline!OptionData! sub-node  \\  \hline
   \lstinline!Style! &  \emph{Bermudan} or \emph{European}\\ \hline
    \lstinline!ExerciseDates! & \emph{Bermudan} swaptions  require at least two \lstinline!ExerciseDate! child elements.  \emph{European} swaptions can only have one \lstinline!ExerciseDate! child element. Note that the exercise date of a \emph{European} swaption must be before or on the start date of the underlying swap. \\ \hline
    \lstinline!LegData! &  Two \lstinline!LegData! sub-nodes \\ \hline 
    \lstinline!Currency! & The same currency for both nodes.\\ \hline 
    \lstinline!LegType! & \emph{Bermudan} swaptions must have: \emph{Fixed} on one node and \emph{Floating} on the other.  No such requirement for \emph{European} swaptions.     \\ \hline   
%    \lstinline!Notionals! & No accretion or amortisation, just a constant notional. Exactly one \lstinline!Notional! child element for each node.\\ \hline
%   \lstinline!Rates! & A constant rate. The fixed rate node should have exactly one \lstinline!Rate! child element.\\ \hline
%    \lstinline!Spreads! &  A constant spread. The floating rate node should have exactly one \lstinline!Spread! child element.\\ \hline
%    \bfseries{ScheduleData} &   \\ \hline   
%    \lstinline!IsRuleBased! & Must be \emph{true} for both nodes. TBC: Fixed by Henning?\\ \hline      
  \end{tabu}
  \caption{Requirements for Swaptions}
  \label{tab:swaption_requirements}
\end{table}
